# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Development Commands

```bash
# Development
npm run dev          # Start development server at localhost:3000
npm run build        # Build for production (static export)
npm run lint         # Run ESLint

# Deployment
git push origin main # Auto-deploys to Cloudflare Pages
```

## Architecture Overview

### SMARTGRAM - Instagram Automation Tool

This is a **SMARTGRAM** (Social Mobile Auto Reach Tool) web application with Instagram automation functionality, built as a license management system for AutoTouch-based iOS automation scripts.

### Deployment Architecture: Cloudflare Pages + Functions

This project uses a **hybrid architecture** specifically designed for Cloudflare Pages:

1. **Frontend**: Next.js 15.5.2 with static export (`output: 'export'`)
   - Static HTML pages served from `/out` directory
   - Client-side rendering with React 19
   - Pages: `/` (landing), `/login`, `/register`, `/dashboard`, `/terms`, `/privacy`, `/admin`
   - Dark theme with futuristic design and animated iPhone 8 mockup

2. **API Layer**: Cloudflare Functions (NOT Next.js API Routes)
   - All APIs handled by `functions/api/[[path]].ts` (catch-all route)
   - TypeScript-based Functions for dynamic processing
   - Endpoints:
     - `/api/license/verify` - License validation for AutoTouch scripts
     - `/api/device/register` - Device registration with trial period
     - `/api/paypal/success|cancel|webhook` - PayPal subscription callbacks

3. **Critical Configuration Files**:
   - `wrangler.toml`: Sets `pages_build_output_dir = "out"` (NOT `.next`)
   - `public/_redirects`: Handles SPA routing (pages fallback to index.html)
   - `next.config.mjs`: Must have `output: 'export'` for static generation

### Authentication & Session Management

- **Supabase Authentication**: Email/password with custom session storage
- **Remember Me Feature**: Uses localStorage (persistent) vs sessionStorage (temporary)
- **Session Restoration**: Custom logic in `lib/auth/client.ts` for cross-session persistence
- **Configuration Priority**: `lib/supabase/config.ts` over environment variables for Cloudflare Pages compatibility

### API Integration Pattern

**IMPORTANT**: This project uses Cloudflare Functions, not Next.js API routes.

```typescript
// functions/api/[[path]].ts handles all API requests
// Routes are determined by the path parameter
if (path === 'license/verify') {
  return handleLicenseVerify(request);
}
```

Frontend API calls:
```javascript
// Always use relative paths
fetch('/api/license/verify', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ device_hash: 'xyz' })
})
```

### AutoTouch Integration (iOS Automation)

- **Target Platform**: iPhone 7/8 with Jailbreak + AutoTouch
- **Lua Scripts**: Located in `scripts/` directory
  - `smartgram.ate`: License verification and tool selection
  - Tool scripts: `timeline.lua`, etc. for Instagram automation
- **License Flow**: Device hash ‚Üí Web registration ‚Üí PayPal subscription ‚Üí License validation

### Database & Authentication

- **Supabase**: PostgreSQL + Auth
  - Tables: `users`, `devices`, `subscriptions`, `licenses`
  - Row Level Security (RLS) enabled
  - Authentication via `@supabase/supabase-js`
  - Custom session management for remember me functionality

- **PayPal Integration**:
  - Monthly subscription: ¬•2,980
  - 14-day free trial (simplified from device registration)
  - Webhook handlers in Cloudflare Functions

### UI/UX Design System

- **Theme**: Dark futuristic design with gradients and glassmorphism
- **Branding**: SMARTGRAM with animated acronym expansion
- **Mobile Mockup**: CSS-based iPhone 8 with realistic Instagram interface
- **Animations**: Auto-like, scroll, and user interaction demonstrations
- **Components**: Custom UI components in `app/components/ui/`

### Testing APIs

Use the built-in test page: https://smartgram.jp/api-test.html

## Deployment Process

1. **Local changes** ‚Üí `git push` ‚Üí GitHub
2. **GitHub** ‚Üí Cloudflare Pages (auto-build)
3. **Build process**:
   - Runs `npm run build` (Next.js static export)
   - Outputs to `/out` directory
   - Deploys Functions from `/functions`
4. **Live in 2-5 minutes** at smartgram.jp

## Common Issues & Solutions

### API returns HTML instead of JSON
- Check `_redirects` file - should not redirect `/api/*`
- Ensure Functions are in `functions/api/` directory
- Verify `wrangler.toml` has correct `pages_build_output_dir`

### Page routing returns 404
- Confirm `output: 'export'` in `next.config.mjs`
- Check `_redirects` includes page routes
- Verify build outputs to `/out` directory

### Build failures on Cloudflare
- Remove any Next.js API routes (`app/api/` should not exist)
- Ensure no `export const dynamic = "force-dynamic"` in pages
- Check file sizes don't exceed 25MB limit

## Cloudflare Workers Compatibility Guide

### üö® Critical Cloudflare Restrictions and Solutions

This section documents working solutions for Cloudflare Workers limitations discovered through production debugging.

#### Buffer API Not Available
**Problem**: `Buffer is not defined` error in Cloudflare Workers runtime
**Solution**: Use Web API alternatives

```typescript
// ‚ùå Node.js approach (will fail in Workers)
const fileBuffer = Buffer.from(packageData.file_content, 'base64');
const response = new Response(fileBuffer, {
  headers: {
    'Content-Type': 'application/zip',
    'Content-Disposition': 'attachment; filename="package.zip"'
  }
});

// ‚úÖ Cloudflare Workers compatible approach
const binaryString = atob(packageData.file_content);
const bytes = new Uint8Array(binaryString.length);
for (let i = 0; i < binaryString.length; i++) {
  bytes[i] = binaryString.charCodeAt(i);
}
const response = new Response(bytes, {
  headers: {
    'Content-Type': 'application/zip',
    'Content-Disposition': 'attachment; filename="package.zip"'
  }
});
```

#### TypeScript Promise Chain Issues
**Problem**: `Property 'catch' does not exist on type 'PromiseLike<void>'`
**Solution**: Wrap Supabase operations in Promise.resolve()

```typescript
// ‚ùå Direct Supabase operation chaining
supabase.from('table').insert(data)
  .then(result => /* handle */)
  .catch(error => /* handle */);

// ‚úÖ Proper promise wrapping for error handling
Promise.resolve(supabase.from('table').insert(data))
  .then(result => /* handle */)
  .catch(error => /* handle */);
```

#### API Route Path Matching
**Problem**: Trailing slashes cause 404 errors in Cloudflare Functions
**Solution**: Normalize paths by removing trailing slashes

```typescript
// functions/api/[[path]].ts
export async function onRequestPOST(context: EventContext) {
  const url = new URL(context.request.url);
  // ‚úÖ Remove trailing slash for consistent matching
  const pathSegments = url.pathname.replace('/api/', '').replace(/\/$/, '').split('/');
  const path = pathSegments.join('/');

  if (path === 'admin/upload-package') {
    return handleUploadPackage(context.request);
  }
}
```

#### UUID Validation for Database Queries
**Problem**: Invalid UUIDs cause Supabase parsing errors: `"failed to parse select parameter"`
**Solution**: Validate UUIDs before database operations

```typescript
function isValidUUID(uuid: string): boolean {
  const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;
  return uuidRegex.test(uuid);
}

// ‚úÖ Always validate before querying
if (!isValidUUID(packageId)) {
  return new Response(JSON.stringify({ error: 'Invalid package ID format' }), {
    status: 400,
    headers: { 'Content-Type': 'application/json' }
  });
}
```

#### Database Error Handling
**Problem**: Different error codes for missing data vs connection issues
**Solution**: Specific error code handling with meaningful responses

```typescript
const { data, error } = await supabase
  .from('user_packages')
  .select('*')
  .eq('id', packageId)
  .single();

if (error) {
  if (error.code === 'PGRST116') {
    // No rows returned - package not found
    return new Response(JSON.stringify({ error: 'Package not found' }), {
      status: 404,
      headers: { 'Content-Type': 'application/json' }
    });
  }
  // Other database errors
  return new Response(JSON.stringify({ error: 'Database error', details: error.message }), {
    status: 500,
    headers: { 'Content-Type': 'application/json' }
  });
}
```

#### Plan-Based Feature Access Control
**Working Pattern**: Japanese localization with backend feature control

```typescript
// Frontend display (Japanese names for users)
const getFeatureDisplayName = (feature: string): string => {
  const featureMap = {
    'timeline.lua': '„Çø„Ç§„É†„É©„Ç§„É≥Ëá™Âãï„ÅÑ„ÅÑ„Å≠',
    'follow.lua': '„Éï„Ç©„É≠„Éº',
    'hashtaglike.lua': '„Éè„ÉÉ„Ç∑„É•„Çø„Ç∞„ÅÑ„ÅÑ„Å≠',
    'activelike.lua': '„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„ÅÑ„ÅÑ„Å≠',
    'dm.lua': 'DMÈÄÅ‰ø°'
  };
  return featureMap[feature] || feature;
};

// Backend access control - Updated to match plans/page.tsx
const isPlanFeatureAvailable = (planName: string, feature: string): boolean => {
  const planFeatures = {
    'starter': ['timeline.lua', 'hashtaglike.lua'],
    'pro': ['timeline.lua', 'hashtaglike.lua', 'follow.lua', 'unfollow.lua'],
    'max': ['timeline.lua', 'hashtaglike.lua', 'follow.lua', 'unfollow.lua', 'activelike.lua'],
    // Legacy support
    'STARTER': ['timeline.lua', 'hashtaglike.lua'],
    'PRO': ['timeline.lua', 'hashtaglike.lua', 'follow.lua', 'unfollow.lua'],
    'MAX': ['timeline.lua', 'hashtaglike.lua', 'follow.lua', 'unfollow.lua', 'activelike.lua']
  };
  return planFeatures[planName]?.includes(feature) || false;
};
```

### üîß Working Development Patterns

#### File Upload with Progress Handling
```typescript
// ‚úÖ Tested pattern for admin file uploads
const formData = new FormData();
formData.append('file', file);
formData.append('name', packageName);
formData.append('description', description);

const response = await fetch('/api/admin/upload-package', {
  method: 'POST',
  body: formData, // Don't set Content-Type header - let browser set multipart boundary
});
```

#### Error Recovery Strategies
```typescript
// ‚úÖ Graceful error handling with user feedback
try {
  const response = await fetch('/api/user-packages/download/' + packageId);
  if (!response.ok) {
    throw new Error(`Download failed: ${response.status} ${response.statusText}`);
  }

  const blob = await response.blob();
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'package.zip';
  a.click();
  URL.revokeObjectURL(url);
} catch (error) {
  console.error('Download error:', error);
  setError(`„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Ç®„É©„Éº: ${error.message}`);
}
```

### üìã Deployment Checklist

Before deploying to Cloudflare Pages, verify:

- [ ] **No Node.js APIs**: Replace Buffer, fs, path with Web API equivalents
- [ ] **Static Export**: `next.config.mjs` has `output: 'export'`
- [ ] **Functions Directory**: All APIs in `functions/api/[[path]].ts`, not `app/api/`
- [ ] **Path Handling**: Remove trailing slashes, normalize routes
- [ ] **UUID Validation**: Validate all UUID parameters before database queries
- [ ] **Error Handling**: Specific handling for Supabase error codes
- [ ] **TypeScript Promises**: Wrap Supabase operations in Promise.resolve() when chaining
- [ ] **File Operations**: Use Uint8Array and atob() instead of Buffer
- [ ] **Build Output**: Check `/out` directory contains static files
- [ ] **Redirects File**: `public/_redirects` handles SPA routing correctly

### üöÄ Performance Optimizations

#### Proven Fast Patterns
- **Parallel Queries**: Run independent database queries concurrently
- **Client-side Caching**: Use localStorage for session persistence
- **Static Generation**: Leverage Next.js static export for fast page loads
- **Cloudflare CDN**: Assets automatically cached at edge locations

```typescript
// ‚úÖ Concurrent database operations
const [userData, deviceData, subscriptionData] = await Promise.all([
  supabase.from('users').select('*').eq('id', userId).single(),
  supabase.from('devices').select('*').eq('user_id', userId).single(),
  supabase.from('subscriptions').select('*').eq('device_id', deviceId).single()
]);
```

## SMARTGRAM MVPË¶Å‰ª∂ÂÆöÁæ©Êõ∏

## 1. MVPÊ¶ÇË¶Å

### 1.1 „Éó„É≠„ÉÄ„ÇØ„ÉàÂêç
**SMARTGRAM** - AutoTouch„ÉÑ„Éº„É´ „É©„Ç§„Çª„É≥„ÇπÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†

### 1.2 MVP„ÅÆÁõÆÁöÑ
iPhone 7/8„ÅßAutoTouch„Çí‰ΩøÁî®„Åô„ÇãInstagramËá™ÂãïÂåñ„ÉÑ„Éº„É´„Å´ÂØæ„Åó„Å¶„ÄÅÊúÄÂ∞èÈôê„ÅÆ„É©„Ç§„Çª„É≥„ÇπÁÆ°ÁêÜ„Å®„Çµ„Éñ„Çπ„ÇØ„É™„Éó„Ç∑„Éß„É≥Ë™≤ÈáëÊ©üËÉΩ„ÇíÊèê‰æõ„Åô„Çã„ÄÇ

### 1.3 MVPÊúüÈñì
ÈñãÁô∫ÊúüÈñìÔºö2ÈÄ±Èñì
Ê§úË®ºÊúüÈñìÔºö1„É∂Êúà

---

## 2. MVPÊ©üËÉΩÁØÑÂõ≤

### 2.1 ÂÆüË£Ö„Åô„ÇãÊ©üËÉΩÔºàÂøÖÈ†àÔºâ

#### „É¶„Éº„Ç∂„ÉºÊ©üËÉΩ
- **„Éá„Éê„Ç§„ÇπÁôªÈå≤**
  - „Éá„Éê„Ç§„Çπ„Éè„ÉÉ„Ç∑„É•„ÅÆÁîüÊàê„Å®Ë°®Á§∫
  - Web„Åß„ÅÆ„Éá„Éê„Ç§„ÇπÁôªÈå≤
  - 3Êó•Èñì„ÅÆÁÑ°Êñô‰ΩìÈ®ìÈñãÂßã

- **„É©„Ç§„Çª„É≥„ÇπË™çË®º**
  - smartgram.ate„Åß„ÅÆË™çË®º
  - 24ÊôÇÈñì„Ç≠„É£„ÉÉ„Ç∑„É•
  - „Ç™„É≥„É©„Ç§„É≥Ê§úË®º

- **Ê±∫Ê∏à**
  - PayPalÊ±∫Ê∏àÔºàSTARTER: ¬•2,980/Êúà, PRO: ¬•6,980/Êúà, MAX: ¬•15,800/ÊúàÔºâ
  - 3Êó•ÈñìÁÑ°Êñô‰ΩìÈ®ìÊúüÈñìÂæå„ÅÆËá™ÂãïË™≤Èáë
  - Ëß£Á¥ÑÊ©üËÉΩ

- **„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„ÉâÔºàÊúÄÂ∞èÈôêÔºâ**
  - „É≠„Ç∞„Ç§„É≥/„É≠„Ç∞„Ç¢„Ç¶„Éà
  - Â•ëÁ¥ÑÁä∂ÊÖãÁ¢∫Ë™ç
  - Ëß£Á¥Ñ„Éú„Çø„É≥

#### ÁÆ°ÁêÜËÄÖÊ©üËÉΩ
- **„É¶„Éº„Ç∂„ÉºÁÆ°ÁêÜ**
  - „Ç¢„ÇØ„ÉÜ„Ç£„Éñ„É¶„Éº„Ç∂„ÉºÊï∞Á¢∫Ë™ç
  - „É©„Ç§„Çª„É≥„ÇπÁä∂ÊÖãÁ¢∫Ë™ç

### 2.2 ÂÆüË£Ö„Åó„Å™„ÅÑÊ©üËÉΩÔºàÂæåÂõû„ÅóÔºâ

- Ë§áÊï∞„Éá„Éê„Ç§„ÇπÁÆ°ÁêÜ
- „Éá„Éê„Ç§„ÇπÂ§âÊõ¥Ê©üËÉΩ
- ËøîÈáëÂá¶ÁêÜ
- Ë©≥Á¥∞„Å™Âà©Áî®Áµ±Ë®à
- „É°„Éº„É´ÈÄöÁü•ÔºàÊúÄÂ∞èÈôê„ÅÆ„ÅøÔºâ
- ÁÆ°ÁêÜËÄÖÂêë„ÅëÂàÜÊûê„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ
- Âπ¥È°ç„Éó„É©„É≥
- „Éó„É≠„É¢„Éº„Ç∑„Éß„É≥„Ç≥„Éº„Éâ
- 2ÊÆµÈöéË™çË®º
- Êó•Êú¨Ë™ûÂåñ

---

## 3. ÊäÄË°ì‰ªïÊßò

### 3.1 „Ç∑„Çπ„ÉÜ„É†ÊßãÊàê

```
„ÇØ„É©„Ç§„Ç¢„É≥„ÉàÂÅ¥Ôºö
- AutoTouch (Lua Scripts)
  - smartgram.ateÔºàË™çË®º„É¢„Ç∏„É•„Éº„É´Ôºâ
  - ÂêÑ„ÉÑ„Éº„É´Ôºàtimeline.luaÁ≠âÔºâ

„Çµ„Éº„Éê„ÉºÂÅ¥Ôºö
- Frontend: Next.jsÔºàÊó¢Â≠ò„ÅÆ„Éö„Éº„Ç∏Ôºâ
- API: Cloudflare WorkersÔºà2„Ç®„É≥„Éâ„Éù„Ç§„É≥„ÉàÔºâ
- Database: SupabaseÔºà3„ÉÜ„Éº„Éñ„É´Ôºâ
- Payment: PayPal Subscriptions
```

### 3.2 „Éá„Éº„Çø„Éô„Éº„ÇπË®≠Ë®àÔºàÊúÄÂ∞èÈôêÔºâ

```
usersÔºàSupabase Auth‰ΩøÁî®Ôºâ
- id
- email
- created_at

devices
- id
- user_id
- device_hash
- status (trial/active/expired)
- trial_ends_at
- created_at

subscriptions
- id
- device_id
- paypal_subscription_id
- status
- created_at
```

### 3.3 API‰ªïÊßòÔºàÊúÄÂ∞èÈôêÔºâ

```
POST /api/device/register
- Input: device_hash, email, password
- Output: success, trial_ends_at

POST /api/license/verify
- Input: device_hash
- Output: is_valid, expires_at
```

---

## 4. „É¶„Éº„Ç∂„Éº„Éï„É≠„Éº

### 4.1 ÂàùÂõûÁôªÈå≤„Éï„É≠„Éº

```
1. smartgram.ateÂÆüË°å
   ‚Üì
2. „Éá„Éê„Ç§„Çπ„Éè„ÉÉ„Ç∑„É•Ë°®Á§∫
   ‚Üì
3. Web„Çµ„Ç§„Éà„ÅßÁôªÈå≤
   - „É°„Éº„É´„Ç¢„Éâ„É¨„Çπ
   - „Éë„Çπ„ÉØ„Éº„Éâ
   - „Éá„Éê„Ç§„Çπ„Éè„ÉÉ„Ç∑„É•ÂÖ•Âäõ
   - PayPalÊÉÖÂ†±Ôºà„Ç´„Éº„ÉâÔºâ
   ‚Üì
4. 3Êó•Èñì‰ΩìÈ®ìÈñãÂßã
   ‚Üì
5. smartgram.ateÂÜçÂÆüË°å„ÅßË™çË®ºÊàêÂäü
```

### 4.2 Êó•Â∏∏Âà©Áî®„Éï„É≠„Éº

```
1. smartgram.ateÂÆüË°å
   ‚Üì
2. „Ç≠„É£„ÉÉ„Ç∑„É•Á¢∫Ë™çÔºà24ÊôÇÈñìÊúâÂäπÔºâ
   ‚Üì
3. APIË™çË®ºÔºà„Ç≠„É£„ÉÉ„Ç∑„É•ÊúüÈôêÂàá„ÇåÊôÇÔºâ
   ‚Üì
4. „ÉÑ„Éº„É´ÈÅ∏ÊäûÁîªÈù¢
   ‚Üì
5. ÈÅ∏Êäû„Åó„Åü„ÉÑ„Éº„É´ÂÆüË°å
```

### 4.3 Ëß£Á¥Ñ„Éï„É≠„Éº

```
1. Web„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ„É≠„Ç∞„Ç§„É≥
   ‚Üì
2. Ëß£Á¥Ñ„Éú„Çø„É≥„ÇØ„É™„ÉÉ„ÇØ
   ‚Üì
3. Á¢∫Ë™çÁîªÈù¢
   ‚Üì
4. PayPalËß£Á¥ÑÂá¶ÁêÜ
   ‚Üì
5. Âç≥Â∫ß„Å´Âà©Áî®ÂÅúÊ≠¢
```

---

## 5. ÁîªÈù¢Ë®≠Ë®à

### 5.1 WebÁîªÈù¢Ôºà3ÁîªÈù¢„ÅÆ„ÅøÔºâ

#### ÁôªÈå≤ÁîªÈù¢Ôºà/registerÔºâ
- „É°„Éº„É´„Ç¢„Éâ„É¨„ÇπÂÖ•Âäõ
- „Éë„Çπ„ÉØ„Éº„ÉâÂÖ•Âäõ
- „Éá„Éê„Ç§„Çπ„Éè„ÉÉ„Ç∑„É•ÂÖ•Âäõ
- PayPalÊ±∫Ê∏à„Éú„Çø„É≥

#### „É≠„Ç∞„Ç§„É≥ÁîªÈù¢Ôºà/loginÔºâ
- „É°„Éº„É´„Ç¢„Éâ„É¨„Çπ
- „Éë„Çπ„ÉØ„Éº„Éâ
- „É≠„Ç∞„Ç§„É≥„Éú„Çø„É≥

#### „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„ÉâÔºà/dashboardÔºâ
- Â•ëÁ¥ÑÁä∂ÊÖãË°®Á§∫
- ÊúâÂäπÊúüÈôêË°®Á§∫
- Ëß£Á¥Ñ„Éú„Çø„É≥

### 5.2 LuaÂÅ¥ÁîªÈù¢
lua„Éï„Ç°„Ç§„É´„ÇíÂèÇÁÖß

#### Ë™çË®º„Ç®„É©„ÉºÁîªÈù¢
- „Éá„Éê„Ç§„Çπ„Éè„ÉÉ„Ç∑„É•Ë°®Á§∫
- ÁôªÈå≤URLÊ°àÂÜÖ
- ÁµÇ‰∫Ü„Éú„Çø„É≥

#### „ÉÑ„Éº„É´ÈÅ∏ÊäûÁîªÈù¢
- Âà©Áî®ÂèØËÉΩ„ÉÑ„Éº„É´„É™„Çπ„Éà
- ÂÆüË°å„Éú„Çø„É≥
- ÁµÇ‰∫Ü„Éú„Çø„É≥

---

## 6. Âà∂Á¥Ñ‰∫ãÈ†Ö

### 6.1 Âãï‰ΩúÁí∞Â¢É
- **Ê©üÁ®Æ**: iPhone 7/8„ÅÆ„Åø
- **OS**: iOS 15Êé®Â•®
- **ÂøÖÈ†à**: Jailbreak + AutoTouch

### 6.2 Âà∂Èôê‰∫ãÈ†Ö
- 1„Ç¢„Ç´„Ç¶„É≥„Éà1„Éá„Éê„Ç§„Çπ„ÅÆ„Åø
- Êó•Êú¨Ë™ûÂåñ

---

## 7. ÊàêÂäüÊåáÊ®ô

### 7.1 ÊäÄË°ìÁöÑÊåáÊ®ô
- „É©„Ç§„Çª„É≥„ÇπË™çË®ºÊàêÂäüÁéáÔºö95%‰ª•‰∏ä
- APIÂøúÁ≠îÊôÇÈñìÔºö500ms‰ª•‰∏ã
- „Ç∑„Çπ„ÉÜ„É†Á®ºÂÉçÁéáÔºö99%‰ª•‰∏ä

### 7.2 „Éì„Ç∏„Éç„ÇπÊåáÊ®ô
- ‰ΩìÈ®ì‚ÜíÊúâÊñôËª¢ÊèõÁéáÔºö20%‰ª•‰∏ä
- ÂàùÊúàËß£Á¥ÑÁéáÔºö30%‰ª•‰∏ã
- „É¶„Éº„Ç∂„ÉºÁç≤ÂæóÊï∞Ôºö10‰∫∫ÔºàMVPÊúüÈñìÔºâ

---

## 8. „É™„Çπ„ÇØ„Å®ÂØæÁ≠ñ

### 8.1 ÊäÄË°ìÁöÑ„É™„Çπ„ÇØ

| „É™„Çπ„ÇØ | ÂΩ±Èüø | ÂØæÁ≠ñ |
|--------|------|------|
| PayPal APIÈöúÂÆ≥ | È´ò | „Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞ÂÆüË£Ö |
| „Éá„Éê„Ç§„ÇπIDÂèñÂæóÂ§±Êïó | È´ò | 3ÊÆµÈöé„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ |
| SupabaseÈöúÂÆ≥ | ‰∏≠ | 24ÊôÇÈñì„Ç≠„É£„ÉÉ„Ç∑„É•„ÅßÁ∑©Âíå |

### 8.2 „Éì„Ç∏„Éç„Çπ„É™„Çπ„ÇØ

| „É™„Çπ„ÇØ | ÂΩ±Èüø | ÂØæÁ≠ñ |
|--------|------|------|
| ‰Ωé„ÅÑËª¢ÊèõÁéá | È´ò | ‰æ°Ê†ºË™øÊï¥ÔºàSTARTER: ¬•2,980, PRO: ¬•6,980, MAX: ¬•15,800Ôºâ |
| È´ò„ÅÑËß£Á¥ÑÁéá | È´ò | ‰ΩìÈ®ìÊúüÈñìÂª∂Èï∑Ôºà7Êó•Ê§úË®éÔºâ |
| „Çµ„Éù„Éº„ÉàË≤†Ëç∑ | ‰∏≠ | FAQÂÖÖÂÆü„ÄÅËá™ÂãïÂåñ |

---

## 9. ÈñãÁô∫„Çπ„Ç±„Ç∏„É•„Éº„É´

### Week 1ÔºàÂü∫Áõ§ÊßãÁØâÔºâ
- Day 1-2: Supabase + DBË®≠Ë®à
- Day 3-4: APIÂÆüË£ÖÔºà2„Ç®„É≥„Éâ„Éù„Ç§„É≥„ÉàÔºâ
- Day 5: PayPalÂü∫Êú¨Áµ±Âêà

### Week 2ÔºàÁµ±Âêà„Éª„ÉÜ„Çπ„ÉàÔºâ
- Day 6-7: WebÁîªÈù¢ÂÆüË£ÖÔºà3ÁîªÈù¢Ôºâ
- Day 8-9: LuaË™çË®º„É¢„Ç∏„É•„Éº„É´
- Day 10: Áµ±Âêà„ÉÜ„Çπ„Éà„Éª‰øÆÊ≠£

---

## 10. MVPÂæå„ÅÆÊã°ÂºµË®àÁîª

### Phase 2Ôºà1„É∂ÊúàÂæåÔºâ
- Ë§áÊï∞„Éá„Éê„Ç§„ÇπÂØæÂøú
- „Éá„Éê„Ç§„ÇπÂ§âÊõ¥Ê©üËÉΩ

### Phase 3Ôºà3„É∂ÊúàÂæåÔºâ
- Êó•Êú¨Ë™ûÂåñ
- Âπ¥È°ç„Éó„É©„É≥
- Ë©≥Á¥∞ÂàÜÊûêÊ©üËÉΩ

### Phase 4Ôºà6„É∂ÊúàÂæåÔºâ
- „ÉÅ„Éº„É†„Éó„É©„É≥

---

## 11. ÊÑèÊÄùÊ±∫ÂÆö„ÅåÂøÖË¶Å„Å™È†ÖÁõÆ

### Âç≥Ê±∫„ÅåÂøÖË¶Å
1. **‰æ°Ê†ºË®≠ÂÆö**: STARTER: ¬•2,980, PRO: ¬•6,980, MAX: ¬•15,800
2. **‰ΩìÈ®ìÊúüÈñì**: 3Êó•
3. **Ëß£Á¥ÑÊôÇ**: ÊúüÈñìÊ∫Ä‰∫Ü„Åæ„Åß

### MVPÊúüÈñì‰∏≠„Å´Ê±∫ÂÆö
1. „Éá„Éê„Ç§„ÇπÂ§âÊõ¥„Éù„É™„Ç∑„Éº
2. ËøîÈáëÂØæÂøú
3. „Çµ„Éù„Éº„Éà‰ΩìÂà∂

---

## 12. ÂÆå‰∫ÜÂü∫Ê∫ñ

### MVPÂÆå‰∫Ü„ÅÆÂÆöÁæ©
- [ ] 10‰∫∫„ÅÆ„É¶„Éº„Ç∂„Éº„ÅåÁôªÈå≤
- [ ] 5‰∫∫„ÅåÊúâÊñôË™≤Èáë„Å´Ëª¢Êèõ
- [ ] ÈáçÂ§ß„Å™„Éê„Ç∞„Çº„É≠„Åß1ÈÄ±ÈñìÁ®ºÂÉç
- [ ] Âü∫Êú¨ÁöÑ„Å™Ê±∫Ê∏à„Éï„É≠„ÉºÂÆåËµ∞

### ÊàêÂäü„ÅÆÂÆöÁæ©
- Ëª¢ÊèõÁéá20%ÈÅîÊàê
- ÊäÄË°ìÁöÑ„Å™Ëá¥ÂëΩÁöÑÂïèÈ°å„Å™„Åó
- „É¶„Éº„Ç∂„Éº„Åã„Çâ„ÅÆËÇØÂÆöÁöÑ„Éï„Ç£„Éº„Éâ„Éê„ÉÉ„ÇØ

---

„Åì„ÅÆË¶Å‰ª∂ÂÆöÁæ©Êõ∏„Å´Âü∫„Å•„ÅÑ„Å¶„ÄÅ2ÈÄ±Èñì„ÅßMVP„ÇíÊßãÁØâ„Åó„ÄÅÂÆüÈöõ„ÅÆ„É¶„Éº„Ç∂„Éº„ÅßÊ§úË®º„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ„Çπ„Ç≥„Éº„Éó„ÅØÊÑèÂõ≥ÁöÑ„Å´ÊúÄÂ∞èÈôê„Å´Êäë„Åà„ÄÅ„Ç≥„Ç¢Ê©üËÉΩ„ÅÆÂãï‰ΩúÁ¢∫Ë™ç„ÇíÂÑ™ÂÖà„Åó„Åæ„Åô„ÄÇ